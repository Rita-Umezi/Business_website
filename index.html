<div id="mobile-menu-overlay" class="fixed inset-0 bg-orange-600 z-[60] flex flex-col items-center justify-center space-y-8 text-white text-2xl font-bold transition-transform duration-300 translate-x-full">
    <button id="close-mobile-menu" class="absolute top-6 right-6 text-4xl">&times;</button>
    <a href="#home" class="mobile-nav-link">Home</a>
    <a href="#menu" class="mobile-nav-link">Menu</a>
    <a href="#about" class="mobile-nav-link">Our Story</a>
    <a href="Health page.html" class="mobile-nav-link">Health</a>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Hamburger Menu Logic ---
        const menuBtn = document.getElementById('mobile-menu-btn');
        const closeBtn = document.getElementById('close-mobile-menu');
        const menuOverlay = document.getElementById('mobile-menu-overlay');
        const navLinks = document.querySelectorAll('.mobile-nav-link');

        // Function to open menu
        menuBtn.addEventListener('click', () => {
            menuOverlay.classList.remove('translate-x-full');
            document.body.style.overflow = 'hidden'; // Prevent scrolling when menu is open
        });

        // Function to close menu
        const closeMenu = () => {
            menuOverlay.classList.add('translate-x-full');
            document.body.style.overflow = 'auto'; // Re-enable scrolling
        };

        closeBtn.addEventListener('click', closeMenu);

        // Close menu when a link is clicked
        navLinks.forEach(link => {
            link.addEventListener('click', closeMenu);
        });

        // --- Your existing Cart & Scroll logic ---
        const getCart = () => JSON.parse(localStorage.getItem('cart')) || [];
        const saveCart = (cart) => localStorage.setItem('cart', JSON.stringify(cart));

        document.querySelectorAll('.add').forEach(btn => {
            btn.addEventListener('click', () => {
                const product = btn.dataset.product;
                const price = Number(btn.dataset.price);
                const cart = getCart();
                cart.push({ product, price });
                saveCart(cart);
                alert(`${product} added!`);
            });
        });

        const nav = document.querySelector('nav');
        const navHeight = nav ? nav.offsetHeight : 72;
        document.querySelectorAll('a[href^="#"]').forEach(a => {
            a.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (!href || href === '#') return;
                const id = href.slice(1);
                const target = document.getElementById(id);
                if (target) {
                    e.preventDefault();
                    const targetPos = target.getBoundingClientRect().top + window.pageYOffset - navHeight - 12;
                    window.scrollTo({ top: targetPos, behavior: 'smooth' });
                    history.pushState(null, '', `#${id}`);
                }
            });
        });

        // Back to top button logic
        const toTopBtn = document.createElement('button');
        toTopBtn.id = 'toTopBtn';
        toTopBtn.className = 'hidden fixed bottom-6 right-6 bg-orange-600 hover:bg-orange-700 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg z-50';
        toTopBtn.innerHTML = '<i class="fa-solid fa-arrow-up"></i>';
        document.body.appendChild(toTopBtn);

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 400) {
                toTopBtn.classList.remove('hidden');
            } else {
                toTopBtn.classList.add('hidden');
            }
        });

        toTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    });

    // Modal functions
    function openModal() {
        document.getElementById('ingredientModal').classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    }

    function closeModal() {
        document.getElementById('ingredientModal').classList.add('hidden');
        document.body.style.overflow = 'auto';
    }
</script>